print("=== salt v2 MINIMAL START ===")

local Players = game:GetService("Players")
local UIS = game:GetService("UserInputService")
local Player = Players.LocalPlayer

local ScreenGui = Instance.new("ScreenGui")
ScreenGui.Name = "saltv2"
ScreenGui.ResetOnSpawn = false
ScreenGui.DisplayOrder = 9999
ScreenGui.IgnoreGuiInset = true
ScreenGui.Parent = Player:WaitForChild("PlayerGui", 10)

print("ScreenGui created")

local MainFrame = Instance.new("Frame")
MainFrame.Name = "Main"
MainFrame.Parent = ScreenGui
MainFrame.BackgroundColor3 = Color3.new(0,0,0)
MainFrame.Position = UDim2.new(0.5, -250, 0.5, -200)
MainFrame.Size = UDim2.new(0, 500, 0, 450)
MainFrame.Active = true
MainFrame.Draggable = true
MainFrame.Visible = true

local UICorner = Instance.new("UICorner", MainFrame)
UICorner.CornerRadius = UDim.new(0,12)

local Title = Instance.new("TextLabel")
Title.Parent = MainFrame
Title.BackgroundTransparency = 1
Title.Size = UDim2.new(1,0,0,50)
Title.Font = Enum.Font.GothamBold
Title.Text = "salt v2"
Title.TextColor3 = Color3.fromRGB(0,255,128)
Title.TextScaled = true

local CloseBtn = Instance.new("TextButton")
CloseBtn.Parent = MainFrame
CloseBtn.BackgroundColor3 = Color3.fromRGB(40,40,40)
CloseBtn.Position = UDim2.new(1,-45,0,8)
CloseBtn.Size = UDim2.new(0,35,0,35)
CloseBtn.Text = "X"
CloseBtn.TextColor3 = Color3.fromRGB(255,80,80)
CloseBtn.TextScaled = true
local cc = Instance.new("UICorner", CloseBtn)
cc.CornerRadius = UDim.new(0,8)

-- Вкладки
local TabFrame = Instance.new("Frame")
TabFrame.Parent = MainFrame
TabFrame.BackgroundColor3 = Color3.fromRGB(20,20,20)
TabFrame.Position = UDim2.new(0,10,0,60)
TabFrame.Size = UDim2.new(1,-20,0,40)

local DefenseBtn = Instance.new("TextButton", TabFrame)
DefenseBtn.Position = UDim2.new(0,0,0,0)
DefenseBtn.Size = UDim2.new(0.33,0,1,0)
DefenseBtn.BackgroundColor3 = Color3.fromRGB(30,30,30)
DefenseBtn.Text = "Defense"
DefenseBtn.TextColor3 = Color3.fromRGB(0,255,128)
DefenseBtn.TextScaled = true

local AttackBtn = Instance.new("TextButton", TabFrame)
AttackBtn.Position = UDim2.new(0.33,0,0,0)
AttackBtn.Size = UDim2.new(0.33,0,1,0)
AttackBtn.BackgroundColor3 = Color3.fromRGB(30,30,30)
AttackBtn.Text = "Attack"
AttackBtn.TextColor3 = Color3.fromRGB(0,255,128)
AttackBtn.TextScaled = true

local MiscBtn = Instance.new("TextButton", TabFrame)
MiscBtn.Position = UDim2.new(0.66,0,0,0)
MiscBtn.Size = UDim2.new(0.34,0,1,0)
MiscBtn.BackgroundColor3 = Color3.fromRGB(30,30,30)
MiscBtn.Text = "Misc"
MiscBtn.TextColor3 = Color3.fromRGB(0,255,128)
MiscBtn.TextScaled = true

-- Страницы
local DefensePage = Instance.new("Frame")
DefensePage.Parent = MainFrame
DefensePage.BackgroundTransparency = 1
DefensePage.Position = UDim2.new(0,10,0,110)
DefensePage.Size = UDim2.new(1,-20,1,-170)
DefensePage.Visible = true

local AttackPage = Instance.new("Frame")
AttackPage.Parent = MainFrame
AttackPage.BackgroundTransparency = 1
AttackPage.Position = UDim2.new(0,10,0,110)
AttackPage.Size = UDim2.new(1,-20,1,-170)
AttackPage.Visible = false

local MiscPage = Instance.new("Frame")
MiscPage.Parent = MainFrame
MiscPage.BackgroundTransparency = 1
MiscPage.Position = UDim2.new(0,10,0,110)
MiscPage.Size = UDim2.new(1,-20,1,-170)
MiscPage.Visible = false

-- Переключение вкладок
DefenseBtn.MouseButton1Click:Connect(function()
    DefensePage.Visible = true
    AttackPage.Visible = false
    MiscPage.Visible = false
end)

AttackBtn.MouseButton1Click:Connect(function()
    DefensePage.Visible = false
    AttackPage.Visible = true
    MiscPage.Visible = false
end)

MiscBtn.MouseButton1Click:Connect(function()
    DefensePage.Visible = false
    AttackPage.Visible = false
    MiscPage.Visible = true
end)

-- Простой список игроков в Misc (для теста)
local PlayersScroll = Instance.new("ScrollingFrame")
PlayersScroll.Parent = MiscPage
PlayersScroll.BackgroundColor3 = Color3.fromRGB(10,10,10)
PlayersScroll.Position = UDim2.new(0.05,0,0.05,0)
PlayersScroll.Size = UDim2.new(0.9,0,0.9,0)
PlayersScroll.ScrollBarImageColor3 = Color3.fromRGB(0,255,128)
PlayersScroll.CanvasSize = UDim2.new(0,0,0,0)

spawn(function()
    while true do
        wait(5)
        for _, b in pairs(PlayersScroll:GetChildren()) do if b:IsA("TextButton") then b:Destroy() end end
        local y = 0
        for _, p in pairs(Players:GetPlayers()) do
            if p ~= Player and p.Character then
                local btn = Instance.new("TextButton")
                btn.Parent = PlayersScroll
                btn.BackgroundColor3 = Color3.fromRGB(20,20,20)
                btn.Size = UDim2.new(1,-10,0,30)
                btn.Position = UDim2.new(0,5,0,y)
                btn.Text = p.Name
                btn.TextColor3 = Color3.fromRGB(255,255,255)
                btn.TextScaled = true
                y = y + 35
            end
        end
        PlayersScroll.CanvasSize = UDim2.new(0,0,0,y)
    end
end)

print("=== salt v2 MINIMAL MENU LOADED ===")
print("Если видишь окно — отлично, теперь добавим функции")
